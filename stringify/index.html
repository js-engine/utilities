<!DOCTYPE html>
<html>
  <head>
    <title>Stringify Circular Structures</title>
    <style type="text/css">
      body{
        font-family: Verdana;
      }
      .snippet{
        width: 560px;
        height: 220px;
        font-size: 11px;
        font-family: Verdana;
        outline: none;
        resize: none;
        border:2px solid #000;
        padding: 11px;
      }
      h4{
        font-style: italic;
      }
    </style>
  </head>
  <body>
    <h1>Stringify Circular Structures in JavaScript</h1>
    <h2>Code snippet:</h2>
    <textarea readonly="readonly" class="snippet">
      Loading . . .
    </textarea>
    <h4>
      Note:
      <br/>This function omits the keys in the result that have circular reference.
      <br/>It modifies the original input object.
      <br/>
      <br/>If you want the original object to stay intact, use getJSON(_.cloneDeep(&lt;object_to_be_stringified&gt;));
      <br/>/* _.cloneDeep is available from lodash library */
    </h4>
    <script type="text/javascript">
      var xhr = new XMLHttpRequest();
      xhr.open("get", "sources/stringify_circular_structures.js?ts="+new Date().getTime(), true);
      xhr.onreadystatechange = function() {
          if (xhr.status === 200 && xhr.readyState === 4) {
              document.querySelector("textarea.snippet").value = xhr.responseText;
          }
      };
      xhr.send(null);
    </script>
  </body>
</html>
